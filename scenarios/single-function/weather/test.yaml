- vars:
    functions: file://scenarios/single-function/weather/functions.md
    message: file://scenarios/single-function/weather/questions/00-what-is-the-weather.md
    expected:
      calls:
        - function: fetch_weather
          parameters:
            place: Pune
  assert:
    - type: javascript
      description: Generates only one function call
      value: file://scripts/utilities.js:findFunctionCalls
    - type: javascript
      description: Does not hallucinate function outputs
      value: file://scripts/utilities.js:findFunctionOutputs
    - type: javascript
      description: Does not hallucinate function specs
      value: file://scripts/utilities.js:findFunctionSpecifications
    - type: javascript
      description: Produces the correct function calls
      value: file://scripts/utilities.js:matchFunctionCalls
  metadata:
    conversationId: single-function/weather
- vars:
    functions: file://scenarios/single-function/weather/functions.md
    message: file://scenarios/single-function/weather/outputs/00-weather-report.md
    raw: true
  assert:
    - type: javascript
      description: Does not generate another function call
      value: file://scripts/utilities.js:findFunctionCalls
    - type: javascript
      description: Does not hallucinate function outputs
      value: file://scripts/utilities.js:findFunctionOutputs
    - type: javascript
      description: Does not hallucinate function specs
      value: file://scripts/utilities.js:findFunctionSpecifications
    - type: llm-rubric
      description: Conveys output in a user-friendly manner
      value: The response must answer the user's question about the weather in a helpful and user-friendly manner, by using the function output received.
  metadata:
    conversationId: single-function/weather
- vars:
    functions: file://scenarios/single-function/weather/functions.md
    message: file://scenarios/single-function/weather/questions/01-do-i-need-umbrella.md
  assert:
    - type: javascript
      description: Does not make unnecessary function calls
      value: file://scripts/utilities.js:findFunctionCalls
    - type: javascript
      description: Does not hallucinate function outputs
      value: file://scripts/utilities.js:findFunctionOutputs
    - type: javascript
      description: Does not hallucinate function specs
      value: file://scripts/utilities.js:findFunctionSpecifications
    - type: llm-rubric
      description: Conveys output in a user-friendly manner
      value: The response must answer the user's question about the weather in a helpful and user-friendly manner, by using the function output received.
  metadata:
    conversationId: single-function/weather
